<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AutonomousCarService.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">4HWC Autonomous Car</a> &gt; <a href="index.source.html" class="el_package">com.autonomouscar.service</a> &gt; <span class="el_source">AutonomousCarService.java</span></div><h1>AutonomousCarService.java</h1><pre class="source lang-java linenums">package com.autonomouscar.service;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.util.ArrayList;
import java.util.Formatter;
import java.util.List;
import java.util.Random;

import org.apache.commons.lang3.StringUtils;

import com.autonomouscar.exceptions.AutonomousCarException;
import com.autonomouscar.logs.AutonomousCarLog;
import com.autonomouscar.model.AutonomousCar;
import com.autonomouscar.utils.Chronometre;

<span class="fc" id="L18">public class AutonomousCarService {</span>

	public static final int NUMBER_OF_INSTRUCTIONS_MAX = 50;

	public static final int NUMBER_OF_VEHICLES_MAX = 20;

	public static final String INCORRECT = &quot;INCORRECT&quot;;
	// Validation de nombre de véhicules String

	// SERVICE

	public void validationNombreDeVehiculesString(String nbre) throws AutonomousCarException {

<span class="fc" id="L31">		String messageError = &quot;S'il vous plaît choisissez un nombre supérieur ou égal à 1&quot;;</span>

<span class="fc bfc" id="L33" title="All 2 branches covered.">		if (StringUtils.isNumeric(nbre.trim())) {</span>
<span class="pc bpc" id="L34" title="1 of 2 branches missed.">			if (Integer.parseInt(nbre.trim()) &gt;= 1) {</span>

			} else {

<span class="nc" id="L38">				throw new AutonomousCarException(messageError);</span>

			}

		} else {

<span class="fc" id="L44">			throw new AutonomousCarException(messageError);</span>

		}

<span class="fc" id="L48">	}</span>

	// SERVICE

	// Vérification orientation

	public boolean validationOrientationInitiale(String orientationInitiale) {
<span class="nc" id="L55">		boolean validation = false;</span>

<span class="nc bnc" id="L57" title="All 2 branches missed.">		if (orientationInitiale != null) {</span>
<span class="nc" id="L58">			String orientationInitialeTrim = orientationInitiale.trim();</span>

<span class="nc bnc" id="L60" title="All 2 branches missed.">			if (orientationInitialeTrim.length() != 0) {</span>
<span class="nc bnc" id="L61" title="All 2 branches missed.">				if (orientationInitialeTrim.length() == 1) {</span>
<span class="nc bnc" id="L62" title="All 4 branches missed.">					if (orientationInitialeTrim.equals(&quot;N&quot;) || orientationInitialeTrim.equals(&quot;E&quot;)</span>
<span class="nc bnc" id="L63" title="All 4 branches missed.">							|| orientationInitialeTrim.equals(&quot;W&quot;) || orientationInitialeTrim.equals(&quot;S&quot;)) {</span>

<span class="nc" id="L65">						validation = true;</span>

					} else {

<span class="nc" id="L69">						AutonomousCarLog.logger.error(&quot;Veuillez entrer une lettre N , E , W ou S&quot;);</span>

					} // 4e if
				} else {

<span class="nc" id="L74">					AutonomousCarLog.logger.error(&quot;Veuillez entrer une lettre N , E , W ou S&quot;);</span>
				} // 3e if
			} else {

<span class="nc" id="L78">				AutonomousCarLog.logger.error(&quot;Veuillez entrer l'orientation&quot;);</span>
			} // 2e if
<span class="nc" id="L80">		} else {</span>

<span class="nc" id="L82">			AutonomousCarLog.logger.error(&quot;Veuillez entrer l'orientation&quot;);</span>
		} // 1er if

<span class="nc" id="L85">		return validation;</span>
	}

	// Validation Positions entrées : string

	/////////////////////////////////////////////////////////////////////////////////////////////////////////

	// SERVICE

	public boolean validationPositionsString(String xCoinDroit, String yCoinDroit, String xInitiale, String yInitiale)
			throws AutonomousCarException {

<span class="nc" id="L97">		boolean validation = false;</span>

<span class="nc" id="L99">		String messageErrorVehicule = &quot;S'il vous plaît choisissez une position correcte du véhicule&quot;;</span>

<span class="nc" id="L101">		String messageErrorCD = &quot;S'il vous plaît choisissez une position correcte du coin Supérieur Droit&quot;;</span>

<span class="nc" id="L103">		String titleError = &quot;Position incorrecte sur la surface&quot;;</span>

		try {

<span class="nc" id="L107">			int xCoinDroitInt = Integer.parseInt(xCoinDroit.trim());</span>

<span class="nc" id="L109">			int yCoinDroitInt = Integer.parseInt(yCoinDroit.trim());</span>

<span class="nc" id="L111">			int xInitialeInt = Integer.parseInt(xInitiale.trim());</span>

<span class="nc" id="L113">			int yInitialeInt = Integer.parseInt(yInitiale.trim());</span>

<span class="nc bnc" id="L115" title="All 8 branches missed.">			if (xCoinDroitInt &gt;= 0 &amp;&amp; xCoinDroitInt &lt;= 5 &amp;&amp; yCoinDroitInt &gt;= 0 &amp;&amp; yCoinDroitInt &lt;= 5) {</span>
<span class="nc bnc" id="L116" title="All 8 branches missed.">				if (xInitialeInt &gt;= 0 &amp;&amp; xInitialeInt &lt;= xCoinDroitInt &amp;&amp; yInitialeInt &gt;= 0</span>
						&amp;&amp; yInitialeInt &lt;= yCoinDroitInt) {
<span class="nc" id="L118">					validation = true;</span>

				} else {

<span class="nc" id="L122">					throw new AutonomousCarException(messageErrorVehicule);</span>
				}
			} else {
<span class="nc" id="L125">				throw new AutonomousCarException(messageErrorCD);</span>

			}

<span class="nc" id="L129">		} catch (AutonomousCarException e) {</span>

<span class="nc" id="L131">		}</span>

<span class="nc" id="L133">		return validation;</span>

	}

	// Vérification instructions

	// SERVICE

	public boolean validationInstructions(String instructions) {

<span class="nc" id="L143">		boolean presenceEspace = false; // Je suppose qu'il n y a pas d'espace</span>

<span class="nc" id="L145">		boolean validation = false; // Je suppose qu'il y a au moins un problème</span>

<span class="nc bnc" id="L147" title="All 2 branches missed.">		if (instructions != null) {</span>
<span class="nc" id="L148">			String instructionsTrim = instructions.trim();</span>

<span class="nc bnc" id="L150" title="All 2 branches missed.">			if (instructionsTrim.length() != 0) {</span>

<span class="nc bnc" id="L152" title="All 2 branches missed.">				for (int i = 0; i &lt; instructionsTrim.length(); i++) { // Boucle</span>
																		// pour
																		// rechercher
																		// l'espace

<span class="nc bnc" id="L157" title="All 2 branches missed.">					if (instructionsTrim.charAt(i) == ' ') // Dès que je trouve</span>
															// un
					// espace, c'est pas
					// correct
					{

<span class="nc" id="L163">						AutonomousCarLog.logger.error(&quot;Les espaces sont interdits dans vos instructions&quot;);</span>

<span class="nc" id="L165">						presenceEspace = true;</span>

<span class="nc" id="L167">						break;</span>
					}
				} // for

<span class="nc bnc" id="L171" title="All 2 branches missed.">				if (presenceEspace == false)// Pas d'espace</span>

				{
<span class="nc" id="L174">					String instructionsTrimMaj = instructionsTrim.toUpperCase(); // Je</span>
																					// convertis
																					// tout
																					// à
																					// majuscule

<span class="nc" id="L180">					int compteurLettresCorrectes = 0;</span>

<span class="nc bnc" id="L182" title="All 2 branches missed.">					for (int j = 0; j &lt; instructionsTrimMaj.length(); j++) {</span>

<span class="nc" id="L184">						String instructionsTrimMajString = instructionsTrimMaj.charAt(j) + &quot;&quot;;</span>

<span class="nc bnc" id="L186" title="All 4 branches missed.">						if (instructionsTrimMajString.equals(&quot;A&quot;) || instructionsTrimMajString.equals(&quot;D&quot;)</span>
<span class="nc bnc" id="L187" title="All 2 branches missed.">								|| instructionsTrimMajString.equals(&quot;G&quot;)) {</span>
							// Correct

<span class="nc" id="L190">							compteurLettresCorrectes++;</span>

<span class="nc bnc" id="L192" title="All 2 branches missed.">							if (compteurLettresCorrectes == instructionsTrimMaj.length()) {</span>

<span class="nc" id="L194">								validation = true;</span>

							}

						} else {
							// Présence d'un intrus

<span class="nc" id="L201">							validation = false;</span>

<span class="nc" id="L203">							AutonomousCarLog.logger.error(&quot;Les instructions contiennent uniquement D, G ou A&quot;);</span>

<span class="nc" id="L205">							break;</span>
						}

					} // for

<span class="nc" id="L210">				} else {</span>
					// Rien faire car espace présent
				}

			} else {
<span class="nc" id="L215">				AutonomousCarLog.logger.error(&quot;Veuillez entrer des instructions&quot;);</span>

			}
<span class="nc" id="L218">		} else {</span>
<span class="nc" id="L219">			AutonomousCarLog.logger.error(&quot;Veuillez entrer des instructions&quot;);</span>
		}

<span class="nc" id="L222">		return validation;</span>
	}

	// SERVICE

	public List&lt;AutonomousCar&gt; recupFichierBase() {

<span class="nc" id="L229">		List&lt;AutonomousCar&gt; listeInitiale = new ArrayList&lt;AutonomousCar&gt;();</span>

<span class="nc" id="L231">		List&lt;String&gt; lignes = new ArrayList&lt;String&gt;();</span>

<span class="nc" id="L233">		InputStream inputStream = AutonomousCarService.class.getClassLoader().getResourceAsStream(&quot;default4HWC.txt&quot;);</span>

<span class="nc bnc" id="L235" title="All 2 branches missed.">		if (inputStream != null) {</span>

			// Début du traitement

			try {

<span class="nc" id="L241">				byte[] buf = new byte[2048];</span>

<span class="nc" id="L243">				int count = 0;</span>

<span class="nc" id="L245">				int n = 0;</span>

<span class="nc" id="L247">				String ligne = &quot;&quot;;</span>

<span class="nc bnc" id="L249" title="All 2 branches missed.">				while ((n = inputStream.read(buf)) &gt;= 0) {</span>
<span class="nc bnc" id="L250" title="All 2 branches missed.">					for (int i = 0; i &lt; n; i++) {</span>

<span class="nc bnc" id="L252" title="All 2 branches missed.">						if (buf[i] != '\n') {</span>
<span class="nc" id="L253">							ligne = ligne + (char) buf[i];</span>

<span class="nc bnc" id="L255" title="All 2 branches missed.">							if (i == n - 1) // enregistrement dernière ligne</span>
<span class="nc" id="L256">								lignes.add(ligne);</span>
						}

<span class="nc bnc" id="L259" title="All 2 branches missed.">						if (buf[i] == '\n') {</span>

							// System.out.println(ligne);

<span class="nc" id="L263">							lignes.add(ligne);</span>
<span class="nc" id="L264">							count++;</span>

<span class="nc" id="L266">							ligne = &quot;&quot;;</span>
							/*
							 * Compter le nombre de retour à la ligne Sachant que le nombre de lignes se
							 * trouve en ajoutant 1 au nombre final de retour à la ligne
							 */
						}

					} // for

				} // while

<span class="nc" id="L277">				String ligne0 = lignes.get(0); // 5 5</span>

<span class="nc" id="L279">				String ligne1 = lignes.get(1);// 1 2 N</span>

<span class="nc" id="L281">				String instructions1 = lignes.get(2);// GAGAGAGAA</span>

<span class="nc" id="L283">				String ligne3 = lignes.get(3);// 3 3 E</span>

<span class="nc" id="L285">				String instructions2 = lignes.get(4);// AADAADADDA</span>

<span class="nc" id="L287">				int xCD = Integer.parseInt(ligne0.charAt(0) + &quot;&quot;);// 5</span>

<span class="nc" id="L289">				int yCD = Integer.parseInt(ligne0.charAt(2) + &quot;&quot;);// 5</span>

<span class="nc" id="L291">				int xT1 = Integer.parseInt(ligne1.charAt(0) + &quot;&quot;);// 1</span>

<span class="nc" id="L293">				int yT1 = Integer.parseInt(ligne1.charAt(2) + &quot;&quot;);// 2</span>

<span class="nc" id="L295">				String o1 = ligne1.charAt(4) + &quot;&quot;;// N</span>

<span class="nc" id="L297">				int xT2 = Integer.parseInt(ligne3.charAt(0) + &quot;&quot;);// 3</span>

<span class="nc" id="L299">				int yT2 = Integer.parseInt(ligne3.charAt(2) + &quot;&quot;);// 3</span>

<span class="nc" id="L301">				String o2 = ligne3.charAt(4) + &quot;&quot;;// E</span>

<span class="nc" id="L303">				listeInitiale.add(new AutonomousCar(xCD, yCD, xT1, yT1, o1, instructions1));</span>

<span class="nc" id="L305">				listeInitiale.add(new AutonomousCar(xCD, yCD, xT2, yT2, o2, instructions2));</span>

<span class="nc" id="L307">			} catch (FileNotFoundException e) {</span>

<span class="nc" id="L309">				e.printStackTrace();</span>
<span class="nc" id="L310">			} catch (IOException e) {</span>
<span class="nc" id="L311">				e.printStackTrace();</span>
			} finally {

<span class="nc" id="L314">				try {</span>
<span class="nc bnc" id="L315" title="All 8 branches missed.">					if (inputStream != null)</span>
<span class="nc" id="L316">						inputStream.close();</span>
<span class="nc" id="L317">				} catch (IOException e) {</span>
<span class="nc" id="L318">					e.printStackTrace();</span>
<span class="nc" id="L319">				}</span>
<span class="nc" id="L320">			}</span>

		} else {

<span class="nc" id="L324">			AutonomousCarLog.logger.error(&quot;Fichier de base introuvable&quot;);</span>

		}
<span class="nc" id="L327">		return listeInitiale;</span>

	}

	// Intelligence Artificielle 4HWC à l'oeuvre

	// Nombre de véhicules

	// SERVICE

	private int getNombreDeVehicules4HWC() {
<span class="nc" id="L338">		Random randomNumbers = new Random();</span>

<span class="nc" id="L340">		return randomNumbers.nextInt(NUMBER_OF_VEHICLES_MAX) + 1; // 1 to NUMBER_OF_VEHICLES_MAX (20)</span>
	}

	// XYCoinDroit4HWC

	// SERVICE

	public int getXYCoinDroit4HWC() {

<span class="fc" id="L349">		return new Random().nextInt(6); // 0 to 5</span>
	}

	// XYInitiale4HWC

	// SERVICE

	public int getXYInitiale4HWC(int xy) {

<span class="fc" id="L358">		return new Random().nextInt(xy + 1);</span>

	}

	// Orientation4HWC

	// SERVICE

	private String getOrientationInitiale4HWC() {
<span class="nc" id="L367">		String tabOrientations[] = { &quot;N&quot;, &quot;E&quot;, &quot;W&quot;, &quot;S&quot; };</span>

<span class="nc" id="L369">		Random randomNumbers = new Random();</span>

<span class="nc" id="L371">		return tabOrientations[randomNumbers.nextInt(tabOrientations.length)];</span>

	}

	// Instructions4HWC

	// SERVICE

	private String getInstructions4HWC() {
<span class="nc" id="L380">		String tabInstructions[] = { &quot;D&quot;, &quot;G&quot;, &quot;A&quot; };</span>

<span class="nc" id="L382">		Random randomNumbers = new Random();</span>

<span class="nc" id="L384">		int tailleInstructions = randomNumbers.nextInt(NUMBER_OF_INSTRUCTIONS_MAX) + 1; // 1 to</span>
																						// NUMBER_OF_INSTRUCTIONS_MAX
																						// (50)
		/*
		 * Don't use StringBuilder
		 * 
		 * Why ? java.lang.OutOfMemoryError : Java heap space
		 * 
		 * StringBuilder instructions4HWC = new StringBuilder();
		 * 
		 * Random randomNumbers2 = new Random();
		 * 
		 * for (int t = 0; t &lt; tailleInstructions; t++)
		 * 
		 * instructions4HWC.append(instructions4HWC.toString())
		 * .append(tabInstructions[randomNumbers2.nextInt(tabInstructions.length)]);
		 * 
		 * return instructions4HWC.toString();
		 */

<span class="nc" id="L404">		String instructions4HWC = &quot;&quot;;</span>

<span class="nc" id="L406">		Random randomNumbers2 = new Random();</span>

<span class="nc bnc" id="L408" title="All 2 branches missed.">		for (int t = 0; t &lt; tailleInstructions; t++)</span>

<span class="nc" id="L410">			instructions4HWC = instructions4HWC + tabInstructions[randomNumbers2.nextInt(tabInstructions.length)];</span>

<span class="nc" id="L412">		return instructions4HWC;</span>

	}

	// Génération Automatique 4HWC

	// SERVICE

	public List&lt;AutonomousCar&gt; getVehicules4HWC() {

<span class="nc" id="L422">		List&lt;AutonomousCar&gt; liste = new ArrayList&lt;AutonomousCar&gt;();</span>

<span class="nc bnc" id="L424" title="All 2 branches missed.">		for (int i = 0; i &lt; getNombreDeVehicules4HWC(); i++) {</span>

			/*
			 * Initial postions depends on Surface so it's important to save it first. if
			 * not the values will be wrong.
			 * 
			 */

<span class="nc" id="L432">			int xCD = getXYCoinDroit4HWC();</span>

<span class="nc" id="L434">			int yCD = getXYCoinDroit4HWC();</span>

<span class="nc" id="L436">			liste.add(new AutonomousCar(xCD, yCD, getXYInitiale4HWC(xCD), getXYInitiale4HWC(yCD),</span>
<span class="nc" id="L437">					getOrientationInitiale4HWC(), getInstructions4HWC()));</span>

		}

<span class="nc" id="L441">		return liste;</span>
	}

	// Déplacement sur la surface de plusieurs véhicules

	// SERVICE

	public void deplacementDeTousLesVehicules(List&lt;AutonomousCar&gt; liste) {

<span class="nc" id="L450">		AutonomousCarLog.logger.debug(String.format(&quot;NOMBRE DE VEHICULES DEPLOYEES :%d&quot;, liste.size()));</span>

		// Speech will be improved later

		// Speech.repete(&quot;NOMBRE DE VEHICULES DEPLOYEES :&quot; + liste.size());

<span class="nc" id="L456">		AutonomousCarService autonomousCarService = new AutonomousCarService();</span>

<span class="nc" id="L458">		liste.parallelStream().forEachOrdered(autonomousCarService::parcourirLaSurface);</span>

<span class="nc" id="L460">	}</span>

	// Déplacement sur la surface d'un véhicule (mode console)

	// SERVICE

	private void parcourirLaSurface(AutonomousCar vehiculeEnDeplacement)

	{

		// Chrono chrono = new Chrono();

<span class="nc" id="L472">		String instructionsASuivre = vehiculeEnDeplacement.getInstructions();</span>

		// Lancement du chronometre

<span class="nc" id="L476">		Chronometre.goChrono();</span>

<span class="nc bnc" id="L478" title="All 2 branches missed.">		for (int i = 0; i &lt; instructionsASuivre.length(); i++) // Suivre les</span>
																// instructions

		{
<span class="nc" id="L482">			String instructionActuelle = instructionsASuivre.charAt(i) + &quot;&quot;; // char</span>
																				// to
																				// String

<span class="nc" id="L486">			String orientationActuelle = vehiculeEnDeplacement.getOrientationActuelle();</span>

<span class="nc" id="L488">			int xActuelle = vehiculeEnDeplacement.getXActuelle();</span>

<span class="nc" id="L490">			int yActuelle = vehiculeEnDeplacement.getYActuelle();</span>

			// Tourner à droite

			// Modification de l'orientation

<span class="nc bnc" id="L496" title="All 2 branches missed.">			if (instructionActuelle.equals(&quot;D&quot;))</span>

			{

<span class="nc bnc" id="L500" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;N&quot;)) {</span>
<span class="nc" id="L501">					vehiculeEnDeplacement.setOrientationActuelle(&quot;E&quot;);</span>
				}

<span class="nc bnc" id="L504" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;E&quot;)) {</span>
<span class="nc" id="L505">					vehiculeEnDeplacement.setOrientationActuelle(&quot;S&quot;);</span>
				}

<span class="nc bnc" id="L508" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;W&quot;)) {</span>
<span class="nc" id="L509">					vehiculeEnDeplacement.setOrientationActuelle(&quot;N&quot;);</span>
				}

<span class="nc bnc" id="L512" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;S&quot;)) {</span>
<span class="nc" id="L513">					vehiculeEnDeplacement.setOrientationActuelle(&quot;W&quot;);</span>
				}
			}

			// Tourner à gauche

			// Modification de l'orientation

<span class="nc bnc" id="L521" title="All 2 branches missed.">			if (instructionActuelle.equals(&quot;G&quot;)) {</span>

<span class="nc bnc" id="L523" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;N&quot;)) {</span>
<span class="nc" id="L524">					vehiculeEnDeplacement.setOrientationActuelle(&quot;W&quot;);</span>
				}

<span class="nc bnc" id="L527" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;E&quot;)) {</span>
<span class="nc" id="L528">					vehiculeEnDeplacement.setOrientationActuelle(&quot;N&quot;);</span>
				}

<span class="nc bnc" id="L531" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;W&quot;)) {</span>
<span class="nc" id="L532">					vehiculeEnDeplacement.setOrientationActuelle(&quot;S&quot;);</span>
				}

<span class="nc bnc" id="L535" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;S&quot;)) {</span>
<span class="nc" id="L536">					vehiculeEnDeplacement.setOrientationActuelle(&quot;E&quot;);</span>
				}
			}

			// Avancer

			// Se rassurer que la future position est dans la surface
			// Si oui Avancer
			// Sinon, pas de mouvement, orientation conservée puis traiter
			// instruction suivante(indice suivant)
			// Ne pas modifier l'orientation

<span class="nc bnc" id="L548" title="All 2 branches missed.">			if (instructionActuelle.equals(&quot;A&quot;)) {</span>
<span class="nc bnc" id="L549" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;N&quot;))// y+1</span>
				{
<span class="nc" id="L551">					int yActuelleFuture = yActuelle + 1;</span>

<span class="nc bnc" id="L553" title="All 4 branches missed.">					if (0 &lt;= yActuelleFuture &amp;&amp; yActuelleFuture &lt;= vehiculeEnDeplacement.getYCoinDroit())// Avancer</span>
					{
<span class="nc" id="L555">						vehiculeEnDeplacement.setYActuelle(yActuelleFuture);</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}

<span class="nc bnc" id="L561" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;E&quot;))// x+1</span>
				{
<span class="nc" id="L563">					int xActuelleFuture = xActuelle + 1;</span>

<span class="nc bnc" id="L565" title="All 4 branches missed.">					if (0 &lt;= xActuelleFuture &amp;&amp; xActuelleFuture &lt;= vehiculeEnDeplacement.getXCoinDroit())// Avancer</span>
					{
<span class="nc" id="L567">						vehiculeEnDeplacement.setXActuelle(xActuelleFuture);</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}

<span class="nc bnc" id="L573" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;W&quot;))// x-1</span>
				{
<span class="nc" id="L575">					int xActuelleFuture = xActuelle - 1;</span>

<span class="nc bnc" id="L577" title="All 4 branches missed.">					if (0 &lt;= xActuelleFuture &amp;&amp; xActuelleFuture &lt;= vehiculeEnDeplacement.getXCoinDroit())// Avancer</span>
					{
<span class="nc" id="L579">						vehiculeEnDeplacement.setXActuelle(xActuelleFuture);</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}

<span class="nc bnc" id="L585" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;S&quot;))// y-1</span>
				{
<span class="nc" id="L587">					int yActuelleFuture = yActuelle - 1;</span>

<span class="nc bnc" id="L589" title="All 4 branches missed.">					if (0 &lt;= yActuelleFuture &amp;&amp; yActuelleFuture &lt;= vehiculeEnDeplacement.getYCoinDroit())// Avancer</span>
					{
<span class="nc" id="L591">						vehiculeEnDeplacement.setYActuelle(yActuelleFuture);</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}
			}

		} // for

		// Stop chrono

<span class="nc" id="L602">		Chronometre.stopChrono();</span>

<span class="nc" id="L604">		vehiculeEnDeplacement.setChronoFinale(Chronometre.getChrono());</span>

		// Communication de la position et de l'orientation finale

<span class="nc" id="L608">		vehiculeEnDeplacement.setXFinale(vehiculeEnDeplacement.getXActuelle());</span>

<span class="nc" id="L610">		vehiculeEnDeplacement.setYFinale(vehiculeEnDeplacement.getYActuelle());</span>

<span class="nc" id="L612">		vehiculeEnDeplacement.setOrientationFinale(vehiculeEnDeplacement.getOrientationActuelle());</span>

<span class="nc" id="L614">		AutonomousCarLog.logger.debug(&quot;CHRONO : &quot; + vehiculeEnDeplacement.getChronoFinale() + &quot; nanosecondes&quot;);</span>

<span class="nc" id="L616">		AutonomousCarLog.logger</span>
<span class="nc" id="L617">				.debug(String.format(&quot;CHRONO : %d nanosecondes&quot;, vehiculeEnDeplacement.getChronoFinale()));</span>

<span class="nc" id="L619">		AutonomousCarLog.logger.debug(&quot;INIT&quot;);</span>

<span class="nc" id="L621">		AutonomousCarLog.logger.debug(String.format(</span>
				&quot;POSITION XCOIN DROIT : %d  / POSITION YCOIN DROIT : %d / POSITION XINIT : %d / POSITION YINIT : %d / O INIT : %s&quot;,
<span class="nc" id="L623">				vehiculeEnDeplacement.getXCoinDroit(), vehiculeEnDeplacement.getYCoinDroit(),</span>
<span class="nc" id="L624">				vehiculeEnDeplacement.getXInitiale(), vehiculeEnDeplacement.getYInitiale(),</span>
<span class="nc" id="L625">				vehiculeEnDeplacement.getOrientationInitiale()));</span>

<span class="nc" id="L627">		AutonomousCarLog.logger.debug(String.format(</span>
				&quot;INSTRUCTIONS :%s %n FIN %n POSITION X FINALE : %d / POSITION Y FINALE : %d / O FINALE : %s&quot;,
<span class="nc" id="L629">				vehiculeEnDeplacement.getInstructions(), vehiculeEnDeplacement.getXFinale(),</span>
<span class="nc" id="L630">				vehiculeEnDeplacement.getYFinale(), vehiculeEnDeplacement.getOrientationFinale()));</span>

<span class="nc" id="L632">	}</span>

	// Déplacement sur la surface d'un véhicule (mode graphique)

	// SERVICE

	public void parcourirLaSurfaceGraphique(AutonomousCar vehiculeEnDeplacement)

	{

<span class="nc" id="L642">		String instructionsASuivre = vehiculeEnDeplacement.getInstructions();</span>

		// Lancement du chronometre

<span class="nc" id="L646">		Chronometre.goChrono();</span>

<span class="nc bnc" id="L648" title="All 2 branches missed.">		for (int i = 0; i &lt; instructionsASuivre.length(); i++) // Suivre les</span>
																// instructions

		{
<span class="nc" id="L652">			String instructionActuelle = instructionsASuivre.charAt(i) + &quot;&quot;; // char</span>
																				// to
																				// String

<span class="nc" id="L656">			String orientationActuelle = vehiculeEnDeplacement.getOrientationActuelle();</span>

<span class="nc" id="L658">			int xActuelle = vehiculeEnDeplacement.getXActuelle();</span>

<span class="nc" id="L660">			int yActuelle = vehiculeEnDeplacement.getYActuelle();</span>

			// Tourner à droite

			// Modification de l'orientation

<span class="nc bnc" id="L666" title="All 2 branches missed.">			if (instructionActuelle.equals(&quot;D&quot;))</span>

			{

<span class="nc bnc" id="L670" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;N&quot;)) {</span>
<span class="nc" id="L671">					vehiculeEnDeplacement.setOrientationActuelle(&quot;E&quot;);</span>
				}

<span class="nc bnc" id="L674" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;E&quot;)) {</span>
<span class="nc" id="L675">					vehiculeEnDeplacement.setOrientationActuelle(&quot;S&quot;);</span>
				}

<span class="nc bnc" id="L678" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;W&quot;)) {</span>
<span class="nc" id="L679">					vehiculeEnDeplacement.setOrientationActuelle(&quot;N&quot;);</span>
				}

<span class="nc bnc" id="L682" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;S&quot;)) {</span>
<span class="nc" id="L683">					vehiculeEnDeplacement.setOrientationActuelle(&quot;W&quot;);</span>
				}
			}

			// Tourner à gauche

			// Modification de l'orientation

<span class="nc bnc" id="L691" title="All 2 branches missed.">			if (instructionActuelle.equals(&quot;G&quot;)) {</span>

<span class="nc bnc" id="L693" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;N&quot;)) {</span>
<span class="nc" id="L694">					vehiculeEnDeplacement.setOrientationActuelle(&quot;W&quot;);</span>
				}

<span class="nc bnc" id="L697" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;E&quot;)) {</span>
<span class="nc" id="L698">					vehiculeEnDeplacement.setOrientationActuelle(&quot;N&quot;);</span>
				}

<span class="nc bnc" id="L701" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;W&quot;)) {</span>
<span class="nc" id="L702">					vehiculeEnDeplacement.setOrientationActuelle(&quot;S&quot;);</span>
				}

<span class="nc bnc" id="L705" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;S&quot;)) {</span>
<span class="nc" id="L706">					vehiculeEnDeplacement.setOrientationActuelle(&quot;E&quot;);</span>
				}
			}

			// Avancer

			// Se rassurer que la future position est dans la surface
			// Si oui Avancer
			// Sinon, pas de mouvement, orientation conservée puis traiter
			// instruction suivante(indice suivant)
			// Ne pas modifier l'orientation

<span class="nc bnc" id="L718" title="All 2 branches missed.">			if (instructionActuelle.equals(&quot;A&quot;)) {</span>
<span class="nc bnc" id="L719" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;N&quot;))// y+1</span>
				{
<span class="nc" id="L721">					int yActuelleFuture = yActuelle + 1;</span>

<span class="nc bnc" id="L723" title="All 4 branches missed.">					if (0 &lt;= yActuelleFuture &amp;&amp; yActuelleFuture &lt;= vehiculeEnDeplacement.getYCoinDroit())// Avancer</span>
					{
<span class="nc" id="L725">						vehiculeEnDeplacement.setYActuelle(yActuelleFuture);</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}

<span class="nc bnc" id="L731" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;E&quot;))// x+1</span>
				{
<span class="nc" id="L733">					int xActuelleFuture = xActuelle + 1;</span>

<span class="nc bnc" id="L735" title="All 4 branches missed.">					if (0 &lt;= xActuelleFuture &amp;&amp; xActuelleFuture &lt;= vehiculeEnDeplacement.getXCoinDroit())// Avancer</span>
					{
<span class="nc" id="L737">						vehiculeEnDeplacement.setXActuelle(xActuelleFuture);</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}

<span class="nc bnc" id="L743" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;W&quot;))// x-1</span>
				{
<span class="nc" id="L745">					int xActuelleFuture = xActuelle - 1;</span>

<span class="nc bnc" id="L747" title="All 4 branches missed.">					if (0 &lt;= xActuelleFuture &amp;&amp; xActuelleFuture &lt;= vehiculeEnDeplacement.getXCoinDroit())// Avancer</span>
					{
<span class="nc" id="L749">						vehiculeEnDeplacement.setXActuelle(xActuelleFuture);</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}

<span class="nc bnc" id="L755" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;S&quot;))// y-1</span>
				{
<span class="nc" id="L757">					int yActuelleFuture = yActuelle - 1;</span>

<span class="nc bnc" id="L759" title="All 4 branches missed.">					if (0 &lt;= yActuelleFuture &amp;&amp; yActuelleFuture &lt;= vehiculeEnDeplacement.getYCoinDroit())// Avancer</span>
					{
<span class="nc" id="L761">						vehiculeEnDeplacement.setYActuelle(yActuelleFuture);</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}
			}

		} // for

		// Stop chrono

<span class="nc" id="L772">		Chronometre.stopChrono();</span>

<span class="nc" id="L774">		vehiculeEnDeplacement.setChronoFinale(Chronometre.getChrono());</span>

		// Communication de la position et de l'orientation finale

<span class="nc" id="L778">		vehiculeEnDeplacement.setXFinale(vehiculeEnDeplacement.getXActuelle());</span>

<span class="nc" id="L780">		vehiculeEnDeplacement.setYFinale(vehiculeEnDeplacement.getYActuelle());</span>

<span class="nc" id="L782">		vehiculeEnDeplacement.setOrientationFinale(vehiculeEnDeplacement.getOrientationActuelle());</span>

<span class="nc" id="L784">		StringBuilder sbuf = new StringBuilder();</span>
<span class="nc" id="L785">		Formatter fmt = new Formatter(sbuf);</span>
<span class="nc" id="L786">		fmt.format(</span>
				&quot;CHRONO :  %d  nanosecondes %n INIT %n POSITION XCOIN DROIT :  %d / POSITION YCOIN DROIT : %d &quot;
						+ &quot;/ POSITION XINIT : %d /  POSITION YINIT : %d / O INIT : %s&quot;,
<span class="nc" id="L789">				vehiculeEnDeplacement.getChronoFinale(), vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L790">				vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXInitiale(),</span>
<span class="nc" id="L791">				vehiculeEnDeplacement.getYInitiale(), vehiculeEnDeplacement.getOrientationInitiale());</span>

<span class="nc" id="L793">		AutonomousCarLog.logger.debug(sbuf.toString());</span>

<span class="nc" id="L795">		AutonomousCarLog.logger.debug(String.format(</span>
				&quot;INSTRUCTIONS :%s %n FIN %n&quot; + &quot; POSITION X FINALE : %d / POSITION Y FINALE : %d / O FINALE : %s&quot;,
<span class="nc" id="L797">				vehiculeEnDeplacement.getInstructions(), vehiculeEnDeplacement.getXFinale(),</span>
<span class="nc" id="L798">				vehiculeEnDeplacement.getYFinale(), vehiculeEnDeplacement.getOrientationFinale()));</span>

<span class="nc" id="L800">	}</span>

	// Enregistrement des paramètres actuels

	// SERVICE

	public List&lt;AutonomousCar&gt; enregistrementParametresActuels(AutonomousCar vehiculeEnDeplacement)

	{

		// A chaque mise à jour des paramètres, j'ajoute à mon ArrayList

<span class="nc" id="L812">		List&lt;AutonomousCar&gt; vehiculeAvecParametresDifferents = new ArrayList&lt;AutonomousCar&gt;();</span>

		// Enregistrement des paramètres initiaux du véhicule

<span class="nc" id="L816">		vehiculeAvecParametresDifferents</span>
<span class="nc" id="L817">				.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(), vehiculeEnDeplacement.getYCoinDroit(),</span>
<span class="nc" id="L818">						vehiculeEnDeplacement.getXInitiale(), vehiculeEnDeplacement.getYInitiale(),</span>
<span class="nc" id="L819">						vehiculeEnDeplacement.getOrientationInitiale(), vehiculeEnDeplacement.getInstructions()));</span>

<span class="nc" id="L821">		String instructionsASuivre = vehiculeEnDeplacement.getInstructions();</span>

<span class="nc bnc" id="L823" title="All 2 branches missed.">		for (int i = 0; i &lt; instructionsASuivre.length(); i++) // Suivre les</span>
																// instructions

		{
<span class="nc" id="L827">			String instructionActuelle = instructionsASuivre.charAt(i) + &quot;&quot;; // char</span>
																				// to
																				// String

<span class="nc" id="L831">			String orientationActuelle = vehiculeEnDeplacement.getOrientationActuelle();</span>

<span class="nc" id="L833">			int xActuelle = vehiculeEnDeplacement.getXActuelle();</span>

<span class="nc" id="L835">			int yActuelle = vehiculeEnDeplacement.getYActuelle();</span>

			// Tourner à droite

			// Modification de l'orientation

<span class="nc bnc" id="L841" title="All 2 branches missed.">			if (instructionActuelle.equals(&quot;D&quot;))</span>

			{

<span class="nc bnc" id="L845" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;N&quot;)) {</span>
<span class="nc" id="L846">					vehiculeEnDeplacement.setOrientationActuelle(&quot;E&quot;);</span>

<span class="nc" id="L848">					vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L849">							vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L850">							vehiculeEnDeplacement.getYActuelle(), &quot;E&quot;, vehiculeEnDeplacement.getInstructions()));</span>
				}

<span class="nc bnc" id="L853" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;E&quot;)) {</span>
<span class="nc" id="L854">					vehiculeEnDeplacement.setOrientationActuelle(&quot;S&quot;);</span>

<span class="nc" id="L856">					vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L857">							vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L858">							vehiculeEnDeplacement.getYActuelle(), &quot;S&quot;, vehiculeEnDeplacement.getInstructions()));</span>
				}

<span class="nc bnc" id="L861" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;W&quot;)) {</span>
<span class="nc" id="L862">					vehiculeEnDeplacement.setOrientationActuelle(&quot;N&quot;);</span>

<span class="nc" id="L864">					vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L865">							vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L866">							vehiculeEnDeplacement.getYActuelle(), &quot;N&quot;, vehiculeEnDeplacement.getInstructions()));</span>
				}

<span class="nc bnc" id="L869" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;S&quot;)) {</span>
<span class="nc" id="L870">					vehiculeEnDeplacement.setOrientationActuelle(&quot;W&quot;);</span>

<span class="nc" id="L872">					vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L873">							vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L874">							vehiculeEnDeplacement.getYActuelle(), &quot;W&quot;, vehiculeEnDeplacement.getInstructions()));</span>
				}
			}

			// Tourner à gauche

			// Modification de l'orientation

<span class="nc bnc" id="L882" title="All 2 branches missed.">			if (instructionActuelle.equals(&quot;G&quot;)) {</span>

<span class="nc bnc" id="L884" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;N&quot;)) {</span>
<span class="nc" id="L885">					vehiculeEnDeplacement.setOrientationActuelle(&quot;W&quot;);</span>

<span class="nc" id="L887">					vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L888">							vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L889">							vehiculeEnDeplacement.getYActuelle(), &quot;W&quot;, vehiculeEnDeplacement.getInstructions()));</span>
				}

<span class="nc bnc" id="L892" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;E&quot;)) {</span>
<span class="nc" id="L893">					vehiculeEnDeplacement.setOrientationActuelle(&quot;N&quot;);</span>

<span class="nc" id="L895">					vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L896">							vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L897">							vehiculeEnDeplacement.getYActuelle(), &quot;N&quot;, vehiculeEnDeplacement.getInstructions()));</span>
				}

<span class="nc bnc" id="L900" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;W&quot;)) {</span>
<span class="nc" id="L901">					vehiculeEnDeplacement.setOrientationActuelle(&quot;S&quot;);</span>

<span class="nc" id="L903">					vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L904">							vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L905">							vehiculeEnDeplacement.getYActuelle(), &quot;S&quot;, vehiculeEnDeplacement.getInstructions()));</span>
				}

<span class="nc bnc" id="L908" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;S&quot;)) {</span>
<span class="nc" id="L909">					vehiculeEnDeplacement.setOrientationActuelle(&quot;E&quot;);</span>

<span class="nc" id="L911">					vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L912">							vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L913">							vehiculeEnDeplacement.getYActuelle(), &quot;E&quot;, vehiculeEnDeplacement.getInstructions()));</span>
				}
			}

			// Avancer

			// Se rassurer que la future position est dans la surface
			// Si oui Avancer
			// Sinon, pas de mouvement, orientation conservée puis traiter
			// instruction suivante(indice suivant)
			// Ne pas modifier l'orientation

<span class="nc bnc" id="L925" title="All 2 branches missed.">			if (instructionActuelle.equals(&quot;A&quot;)) {</span>
<span class="nc bnc" id="L926" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;N&quot;))// y+1</span>
				{
<span class="nc" id="L928">					int yActuelleFuture = yActuelle + 1;</span>

<span class="nc bnc" id="L930" title="All 4 branches missed.">					if (0 &lt;= yActuelleFuture &amp;&amp; yActuelleFuture &lt;= vehiculeEnDeplacement.getYCoinDroit())// Avancer</span>
					{
<span class="nc" id="L932">						vehiculeEnDeplacement.setYActuelle(yActuelleFuture);</span>

<span class="nc" id="L934">						vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L935">								vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L936">								yActuelleFuture, vehiculeEnDeplacement.getOrientationActuelle(),</span>
<span class="nc" id="L937">								vehiculeEnDeplacement.getInstructions()));</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}

<span class="nc bnc" id="L943" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;E&quot;))// x+1</span>
				{
<span class="nc" id="L945">					int xActuelleFuture = xActuelle + 1;</span>

<span class="nc bnc" id="L947" title="All 4 branches missed.">					if (0 &lt;= xActuelleFuture &amp;&amp; xActuelleFuture &lt;= vehiculeEnDeplacement.getXCoinDroit())// Avancer</span>
					{
<span class="nc" id="L949">						vehiculeEnDeplacement.setXActuelle(xActuelleFuture);</span>

<span class="nc" id="L951">						vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L952">								vehiculeEnDeplacement.getYCoinDroit(), xActuelleFuture,</span>
<span class="nc" id="L953">								vehiculeEnDeplacement.getYActuelle(), vehiculeEnDeplacement.getOrientationActuelle(),</span>
<span class="nc" id="L954">								vehiculeEnDeplacement.getInstructions()));</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}

<span class="nc bnc" id="L960" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;W&quot;))// x-1</span>
				{
<span class="nc" id="L962">					int xActuelleFuture = xActuelle - 1;</span>

<span class="nc bnc" id="L964" title="All 4 branches missed.">					if (0 &lt;= xActuelleFuture &amp;&amp; xActuelleFuture &lt;= vehiculeEnDeplacement.getXCoinDroit())// Avancer</span>
					{
<span class="nc" id="L966">						vehiculeEnDeplacement.setXActuelle(xActuelleFuture);</span>

<span class="nc" id="L968">						vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L969">								vehiculeEnDeplacement.getYCoinDroit(), xActuelleFuture,</span>
<span class="nc" id="L970">								vehiculeEnDeplacement.getYActuelle(), vehiculeEnDeplacement.getOrientationActuelle(),</span>
<span class="nc" id="L971">								vehiculeEnDeplacement.getInstructions()));</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}

<span class="nc bnc" id="L977" title="All 2 branches missed.">				if (orientationActuelle.equals(&quot;S&quot;))// y-1</span>
				{
<span class="nc" id="L979">					int yActuelleFuture = yActuelle - 1;</span>

<span class="nc bnc" id="L981" title="All 4 branches missed.">					if (0 &lt;= yActuelleFuture &amp;&amp; yActuelleFuture &lt;= vehiculeEnDeplacement.getYCoinDroit())// Avancer</span>
					{
<span class="nc" id="L983">						vehiculeEnDeplacement.setYActuelle(yActuelleFuture);</span>

<span class="nc" id="L985">						vehiculeAvecParametresDifferents.add(new AutonomousCar(vehiculeEnDeplacement.getXCoinDroit(),</span>
<span class="nc" id="L986">								vehiculeEnDeplacement.getYCoinDroit(), vehiculeEnDeplacement.getXActuelle(),</span>
<span class="nc" id="L987">								yActuelleFuture, vehiculeEnDeplacement.getOrientationActuelle(),</span>
<span class="nc" id="L988">								vehiculeEnDeplacement.getInstructions()));</span>
					} else {
						continue; // Passage à la commande suivante
					}
				}
			}

		} // for

<span class="nc" id="L997">		return vehiculeAvecParametresDifferents;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>