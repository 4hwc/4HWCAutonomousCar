<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ChoixDuNombreDeVehicules.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">4HWC Autonomous Car</a> &gt; <a href="index.source.html" class="el_package">com.autonomouscar.view</a> &gt; <span class="el_source">ChoixDuNombreDeVehicules.java</span></div><h1>ChoixDuNombreDeVehicules.java</h1><pre class="source lang-java linenums">package com.autonomouscar.view;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowEvent;
import java.net.URL;
import java.util.HashMap;
import java.util.Map;

import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.border.Border;
import javax.swing.border.LineBorder;

import com.autonomouscar.exceptions.AutonomousCarException;
import com.autonomouscar.service.AutonomousCarService;

public class ChoixDuNombreDeVehicules extends JFrame {

<span class="nc" id="L32">	private ChoixDuNombreDeVehiculesPanneau4HWC container = new ChoixDuNombreDeVehiculesPanneau4HWC();</span>

<span class="nc" id="L34">	private URL url = ChoixDuNombreDeVehicules.class.getResource(&quot;/images/boutonConfirmerNbreVehicules.png&quot;);</span>

<span class="nc" id="L36">	private ImageIcon imageBoutonConfirmer = new ImageIcon(url);</span>

<span class="nc" id="L38">	private JButton boutonConfirmer = new JButton(imageBoutonConfirmer);</span>

<span class="nc" id="L40">	private JTextField jtfNbre = new JTextField(&quot;Nombre de véhicules&quot;);</span>

<span class="nc" id="L42">	private Font police = new Font(&quot;Agency FB&quot;, Font.BOLD, 30);</span>

	// private Font policeArial = new Font(&quot;Arial&quot;, Font.BOLD, 30);

<span class="nc" id="L46">	private Font policeCalibriLight = new Font(&quot;Calibri Light&quot;, Font.BOLD, 30);</span>

	// private Font policeCalibri = new Font(&quot;Calibri&quot;, Font.BOLD, 30);

<span class="nc" id="L50">	private Border whiteBorder = new LineBorder(Color.WHITE, 3);</span>

<span class="nc" id="L52">	private Cursor cursor = new Cursor(Cursor.HAND_CURSOR);</span>

<span class="nc" id="L54">	private Map&lt;String, String&gt; erreurs = new HashMap&lt;&gt;();</span>

<span class="nc" id="L56">	private final String TITLEERROR = &quot;Nombre de véhicules incorrect&quot;;</span>

<span class="nc" id="L58">	public ChoixDuNombreDeVehicules() {</span>
<span class="nc" id="L59">		this.setTitle(&quot;4HWC AUTONOMOUS CAR : Choix du nombre de véhicules&quot;);</span>

<span class="nc" id="L61">		this.setSize(1000, 600);</span>

<span class="nc" id="L63">		this.setLocationRelativeTo(null);</span>

<span class="nc" id="L65">		this.setIconImage(Bienvenue4HWC.icon4HWC.getImage());</span>

<span class="nc" id="L67">		this.setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);</span>

<span class="nc" id="L69">		this.addWindowListener(new java.awt.event.WindowAdapter() {</span>
			@Override
			public void windowClosing(WindowEvent e) {

<span class="nc" id="L73">				int answer = JOptionPane.showConfirmDialog(null, &quot;Etes vous sûr(e) de quitter ?&quot;, &quot;Quitter&quot;,</span>
						JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE);
<span class="nc bnc" id="L75" title="All 2 branches missed.">				if (answer == JOptionPane.YES_OPTION) {</span>
<span class="nc" id="L76">					System.exit(0);</span>
				}

<span class="nc" id="L79">			}</span>
		});

<span class="nc" id="L82">		this.setResizable(false);</span>

<span class="nc" id="L84">		jtfNbre.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L86">		jtfNbre.setFocusable(true);</span>

<span class="nc" id="L88">		jtfNbre.setFont(policeCalibriLight);</span>

<span class="nc" id="L90">		jtfNbre.setForeground(Color.WHITE);</span>

<span class="nc" id="L92">		jtfNbre.setBorder(whiteBorder);</span>

<span class="nc" id="L94">		jtfNbre.setOpaque(false);</span>

<span class="nc" id="L96">		boutonConfirmer.setPreferredSize(new Dimension(220, 50));</span>

		// boutonConfirmer.setBorder(whiteBorder);

		// boutonConfirmer.setIcon(imageBoutonConfirmer);

<span class="nc" id="L102">		boutonConfirmer.setFont(police);</span>

<span class="nc" id="L104">		boutonConfirmer.setCursor(cursor);</span>

		// boutonConfirmer.setForeground(Color.WHITE);

		// boutonConfirmer.setContentAreaFilled(false);
<span class="nc" id="L109">		boutonConfirmer.setBorderPainted(true);</span>

<span class="nc" id="L111">		TextFieldHandler handler = new TextFieldHandler();</span>

<span class="nc" id="L113">		boutonConfirmer.addActionListener(handler);</span>

		// Découpage de content en 9 cellules , 3 lignes et 3 colonnes :
		// GridBagLayout

		// Conteneur principal (au dessus de l'image de fond)

		// Création des 9 cellules

<span class="nc" id="L122">		JPanel cell1 = new JPanel();</span>
<span class="nc" id="L123">		cell1.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L125">		cell1.setOpaque(false);</span>

<span class="nc" id="L127">		JPanel cell2 = new JPanel();</span>
<span class="nc" id="L128">		cell2.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L130">		cell2.setOpaque(false);</span>

<span class="nc" id="L132">		JPanel cell3 = new JPanel();</span>
<span class="nc" id="L133">		cell3.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L135">		cell3.setOpaque(false);</span>

<span class="nc" id="L137">		JPanel cell4 = new JPanel();</span>
<span class="nc" id="L138">		cell4.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L140">		cell4.setOpaque(false);</span>

<span class="nc" id="L142">		JPanel cell5_1 = new JPanel();</span>
<span class="nc" id="L143">		cell5_1.setPreferredSize(new Dimension(330, 66));</span>
<span class="nc" id="L144">		cell5_1.setOpaque(false);</span>
		// cell5_1.setBackground(Color.BLACK);

		// JPanel text field

<span class="nc" id="L149">		JPanel cell5_2 = new JPanel();</span>
<span class="nc" id="L150">		cell5_2.setPreferredSize(new Dimension(330, 66));</span>
<span class="nc" id="L151">		cell5_2.setOpaque(false);</span>
		// cell5_2.setBackground(Color.CYAN);

<span class="nc" id="L154">		cell5_2.setLayout(new BorderLayout());</span>

<span class="nc" id="L156">		cell5_2.add(jtfNbre, BorderLayout.CENTER);</span>

<span class="nc" id="L158">		JPanel cell5_3 = new JPanel();</span>
<span class="nc" id="L159">		cell5_3.setPreferredSize(new Dimension(330, 66));</span>
<span class="nc" id="L160">		cell5_3.setOpaque(false);</span>
		// cell5_3.setBackground(Color.YELLOW);

<span class="nc" id="L163">		JPanel cell5 = new JPanel();</span>
<span class="nc" id="L164">		cell5.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L166">		cell5.setOpaque(false);</span>

		// cell5.setBackground(Color.ORANGE);

<span class="nc" id="L170">		cell5.setLayout(new GridBagLayout());</span>

		// Objet servant à positionner les composants

<span class="nc" id="L174">		GridBagConstraints gbc5 = new GridBagConstraints();</span>

<span class="nc" id="L176">		gbc5.gridx = 0;</span>
<span class="nc" id="L177">		gbc5.gridy = 0;</span>

		// Taille en hauteur et largeur

<span class="nc" id="L181">		gbc5.gridheight = 1;</span>
<span class="nc" id="L182">		gbc5.gridwidth = 1;</span>
<span class="nc" id="L183">		cell5.add(cell5_1, gbc5);</span>

<span class="nc" id="L185">		gbc5.gridy = 1;</span>
<span class="nc" id="L186">		cell5.add(cell5_2, gbc5);</span>

<span class="nc" id="L188">		gbc5.gridy = 2;</span>
<span class="nc" id="L189">		cell5.add(cell5_3, gbc5);</span>

<span class="nc" id="L191">		JPanel cell6 = new JPanel();</span>
<span class="nc" id="L192">		cell6.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L194">		cell6.setOpaque(false);</span>

<span class="nc" id="L196">		JPanel cell7 = new JPanel();</span>
<span class="nc" id="L197">		cell7.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L199">		cell7.setOpaque(false);</span>

		// Confirmer

<span class="nc" id="L203">		JPanel cell8_1 = new JPanel();</span>
<span class="nc" id="L204">		cell8_1.setPreferredSize(boutonConfirmer.getPreferredSize());</span>
		// cell8_1.setPreferredSize(new Dimension(330, 66));
<span class="nc" id="L206">		cell8_1.setOpaque(false);</span>
		// cell8_1.setBackground(Color.GREEN);

		// cell8_1.setBorder(whiteBorder);

<span class="nc" id="L211">		cell8_1.setLayout(new FlowLayout());</span>
<span class="nc" id="L212">		cell8_1.add(boutonConfirmer);</span>

<span class="nc" id="L214">		JPanel cell8_2 = new JPanel();</span>
<span class="nc" id="L215">		cell8_2.setPreferredSize(new Dimension(330, 66));</span>
<span class="nc" id="L216">		cell8_2.setOpaque(false);</span>
		// cell8_2.setBackground(Color.LIGHT_GRAY);

		// cell5_2.setLayout(new BorderLayout());

		// cell5_2.add(boutonParametres, BorderLayout.CENTER);

<span class="nc" id="L223">		JPanel cell8_3 = new JPanel();</span>
<span class="nc" id="L224">		cell8_3.setPreferredSize(new Dimension(330, 66));</span>
<span class="nc" id="L225">		cell8_3.setOpaque(false);</span>
		// cell8_3.setBackground(Color.WHITE);

<span class="nc" id="L228">		JPanel cell8 = new JPanel();</span>
<span class="nc" id="L229">		cell8.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L231">		cell8.setOpaque(false);</span>

		// cell8.setBackground(Color.PINK);

<span class="nc" id="L235">		cell8.setLayout(new GridBagLayout());</span>

		// Objet servant à positionner les composants

<span class="nc" id="L239">		GridBagConstraints gbc8 = new GridBagConstraints();</span>

<span class="nc" id="L241">		gbc8.gridx = 0;</span>
<span class="nc" id="L242">		gbc8.gridy = 0;</span>

		// Taille en hauteur et largeur

<span class="nc" id="L246">		gbc8.gridheight = 1;</span>
<span class="nc" id="L247">		gbc8.gridwidth = 1;</span>
<span class="nc" id="L248">		cell8.add(cell8_1, gbc8);</span>

<span class="nc" id="L250">		gbc8.gridy = 1;</span>
<span class="nc" id="L251">		cell8.add(cell8_2, gbc8);</span>

<span class="nc" id="L253">		gbc8.gridy = 2;</span>
<span class="nc" id="L254">		cell8.add(cell8_3, gbc8);</span>

<span class="nc" id="L256">		JPanel cell9 = new JPanel();</span>
<span class="nc" id="L257">		cell9.setPreferredSize(new Dimension(330, 200));</span>

<span class="nc" id="L259">		cell9.setOpaque(false);</span>

<span class="nc" id="L261">		JPanel content = new JPanel();</span>

<span class="nc" id="L263">		content.setPreferredSize(new Dimension(990, 600));</span>

<span class="nc" id="L265">		content.setOpaque(false);</span>

<span class="nc" id="L267">		content.setLayout(new GridBagLayout());</span>

		// Objet servant à positionner les composants

<span class="nc" id="L271">		GridBagConstraints gbc = new GridBagConstraints();</span>

		// Position de la case de départ du composant

<span class="nc" id="L275">		gbc.gridx = 0;</span>
<span class="nc" id="L276">		gbc.gridy = 0;</span>

		// Taille en hauteur et largeur

<span class="nc" id="L280">		gbc.gridheight = 1;</span>
<span class="nc" id="L281">		gbc.gridwidth = 1;</span>
<span class="nc" id="L282">		content.add(cell1, gbc);</span>

<span class="nc" id="L284">		gbc.gridx = 1;</span>
<span class="nc" id="L285">		content.add(cell2, gbc);</span>

		// Fin de ligne

<span class="nc" id="L289">		gbc.gridwidth = GridBagConstraints.REMAINDER;</span>

<span class="nc" id="L291">		gbc.gridx = 2;</span>
<span class="nc" id="L292">		content.add(cell3, gbc);</span>

		// -----------------------

		// ligne suivante 2e ligne

<span class="nc" id="L298">		gbc.gridx = 0;</span>

<span class="nc" id="L300">		gbc.gridy = 1;</span>

<span class="nc" id="L302">		gbc.gridheight = 1;</span>
<span class="nc" id="L303">		gbc.gridwidth = 1;</span>

<span class="nc" id="L305">		content.add(cell4, gbc);</span>

<span class="nc" id="L307">		gbc.gridx = 1;</span>
<span class="nc" id="L308">		content.add(cell5, gbc);</span>

		// Fin de ligne

<span class="nc" id="L312">		gbc.gridwidth = GridBagConstraints.REMAINDER;</span>

<span class="nc" id="L314">		gbc.gridx = 2;</span>
<span class="nc" id="L315">		content.add(cell6, gbc);</span>

		// -----------------------

		// ligne suivante 3e ligne

<span class="nc" id="L321">		gbc.gridx = 0;</span>

<span class="nc" id="L323">		gbc.gridy = 2;</span>

<span class="nc" id="L325">		gbc.gridheight = 1;</span>
<span class="nc" id="L326">		gbc.gridwidth = 1;</span>

<span class="nc" id="L328">		content.add(cell7, gbc);</span>

<span class="nc" id="L330">		gbc.gridx = 1;</span>
<span class="nc" id="L331">		content.add(cell8, gbc);</span>

		// Fin de ligne

<span class="nc" id="L335">		gbc.gridwidth = GridBagConstraints.REMAINDER;</span>

<span class="nc" id="L337">		gbc.gridx = 2;</span>
<span class="nc" id="L338">		content.add(cell9, gbc);</span>

<span class="nc" id="L340">		container.add(content);</span>

<span class="nc" id="L342">		this.setContentPane(container);</span>

<span class="nc" id="L344">		this.setVisible(true);</span>
<span class="nc" id="L345">	}</span>

<span class="nc" id="L347">	private class TextFieldHandler implements ActionListener {</span>
		@Override
		public void actionPerformed(ActionEvent event) {

<span class="nc bnc" id="L351" title="All 2 branches missed.">			if (event.getSource() == boutonConfirmer) {</span>
				try

				{

<span class="nc" id="L356">					new AutonomousCarService().validationNombreDeVehicules(jtfNbre.getText().trim());</span>

<span class="nc" id="L358">					ChoixDuNombreDeVehicules.this.dispose();</span>

					// Affichage 1er formulaire

<span class="nc" id="L362">					new FormulaireVehicules(1, Integer.parseInt(jtfNbre.getText().trim()));</span>

<span class="nc" id="L364">				} catch (AutonomousCarException e) {</span>

					// AutonomousCarLog.logger.error(e.getMessage());

					// Pb -&gt; StringUtils blocks Swing GUI App

<span class="nc" id="L370">					erreurs.put(TITLEERROR, e.getMessage());</span>

<span class="nc" id="L372">					JOptionPane.showMessageDialog(null, e.getMessage(), TITLEERROR, JOptionPane.ERROR_MESSAGE);</span>

<span class="nc" id="L374">				}</span>

			}

<span class="nc" id="L378">		}</span>

	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>