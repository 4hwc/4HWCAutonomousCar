<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ChargementDeplacementVehicules.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">4HWC Autonomous Car</a> &gt; <a href="index.source.html" class="el_package">com.autonomouscar.view</a> &gt; <span class="el_source">ChargementDeplacementVehicules.java</span></div><h1>ChargementDeplacementVehicules.java</h1><pre class="source lang-java linenums">package com.autonomouscar.view;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.event.WindowEvent;
import java.util.ArrayList;

import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JProgressBar;

import com.autonomouscar.model.AutonomousCar;

public class ChargementDeplacementVehicules extends JFrame {

	private Thread t;

	private Thread tSpeak;

	private Thread pause;

	private JProgressBar bar;

<span class="nc" id="L24">	private ChargementDeplacementVehiculesPanneau4HWC container = new ChargementDeplacementVehiculesPanneau4HWC();</span>

<span class="nc" id="L26">	static String origine = &quot;&quot;;</span>

<span class="nc" id="L28">	static ArrayList&lt;AutonomousCar&gt; listeVehicules = new ArrayList&lt;AutonomousCar&gt;();</span>

	private String speak;

	public ChargementDeplacementVehicules()

<span class="nc" id="L34">	{</span>

<span class="nc" id="L36">		this.setTitle(&quot;4HWC AUTONOMOUS CAR : Chargement...&quot;);</span>

<span class="nc" id="L38">		this.setSize(1000, 600);</span>

<span class="nc" id="L40">		this.setIconImage(Bienvenue4HWC.icon4HWC.getImage());</span>

<span class="nc" id="L42">		this.setLocationRelativeTo(null);</span>

<span class="nc" id="L44">		this.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);</span>

<span class="nc" id="L46">		this.addWindowListener(new java.awt.event.WindowAdapter() {</span>
			@Override
			public void windowClosing(WindowEvent e) {

<span class="nc" id="L50">				int Answer = JOptionPane.showConfirmDialog(null, &quot;Etes vous sûr(e) de quitter ?&quot;, &quot;Quitter&quot;,</span>
						JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE);
<span class="nc bnc" id="L52" title="All 2 branches missed.">				if (Answer == JOptionPane.YES_OPTION) {</span>
<span class="nc" id="L53">					System.exit(0);</span>
				}

<span class="nc" id="L56">			}</span>
		});

<span class="nc" id="L59">		this.setResizable(false);</span>

<span class="nc" id="L61">		container.setLayout(new BorderLayout());</span>

<span class="nc" id="L63">		class TraitementRedirection implements Runnable {</span>

			public void run() {

<span class="nc" id="L67">				redirection();</span>

<span class="nc" id="L69">			}</span>

		}

<span class="nc" id="L73">		pause = new Thread(new TraitementRedirection());</span>

<span class="nc" id="L75">		class TraitementSpeak implements Runnable {</span>

			public void run() {

<span class="nc bnc" id="L79" title="All 2 branches missed.">				if (ChargementDeplacementVehicules.origine.equals(&quot;défaut&quot;)) {</span>

<span class="nc bnc" id="L81" title="All 2 branches missed.">					if (ChargementDeplacementVehicules.listeVehicules.size() == 1) {</span>

<span class="nc" id="L83">						speak = &quot;un véhicule déployé par défaut&quot;;</span>

					} else {

<span class="nc" id="L87">						speak = ChargementDeplacementVehicules.listeVehicules.size() + &quot; véhicules déployés par défaut&quot;;</span>

					}

				}
<span class="nc bnc" id="L92" title="All 2 branches missed.">				if (ChargementDeplacementVehicules.origine.equals(&quot;paramètres&quot;)) {</span>

<span class="nc bnc" id="L94" title="All 2 branches missed.">					if (ChargementDeplacementVehicules.listeVehicules.size() == 1) {</span>

<span class="nc" id="L96">						speak = &quot;un véhicule déployé par vous&quot;;</span>

					} else {

<span class="nc" id="L100">						speak = ChargementDeplacementVehicules.listeVehicules.size() + &quot; véhicules déployées par vous&quot;;</span>

					}

				}

<span class="nc bnc" id="L106" title="All 2 branches missed.">				if (ChargementDeplacementVehicules.origine.equals(&quot;IA&quot;)) {</span>

<span class="nc bnc" id="L108" title="All 2 branches missed.">					if (ChargementDeplacementVehicules.listeVehicules.size() == 1) {</span>

<span class="nc" id="L110">						speak = &quot;un véhicule déployé par moi&quot;;</span>

					} else {

<span class="nc" id="L114">						speak = ChargementDeplacementVehicules.listeVehicules.size() + &quot; véhicules déployées par moi&quot;;</span>

					}

				}

				// Speech will be improved later

				// Speech.repete(speak);

<span class="nc" id="L124">			}// run</span>

		}

<span class="nc" id="L128">		tSpeak = new Thread(new TraitementSpeak());</span>

<span class="nc" id="L130">		class Traitement implements Runnable {</span>

			public void run() {

				// tSpeak.setPriority(Thread.MAX_PRIORITY);

<span class="nc" id="L136">				tSpeak.start();</span>

<span class="nc bnc" id="L138" title="All 2 branches missed.">				for (int val = 0; val &lt;= 500; val++) {</span>

<span class="nc" id="L140">					bar.setValue(val);</span>

					try {
<span class="nc" id="L143">						Thread.sleep(25);</span>

<span class="nc" id="L145">					} catch (InterruptedException e) {</span>
<span class="nc" id="L146">						e.printStackTrace();</span>
<span class="nc" id="L147">					}</span>
				} // for

<span class="nc" id="L150">				pause.start();</span>

<span class="nc" id="L152">			}// run</span>

		}// traitement

<span class="nc" id="L156">		t = new Thread(new Traitement());</span>

<span class="nc" id="L158">		bar = new JProgressBar();</span>

<span class="nc" id="L160">		bar.setMaximum(500);</span>

<span class="nc" id="L162">		bar.setMinimum(0);</span>

<span class="nc" id="L164">		bar.setStringPainted(false);</span>

<span class="nc" id="L166">		bar.setForeground(Color.decode(&quot;#148da0&quot;));</span>

<span class="nc" id="L168">		container.add(bar, BorderLayout.SOUTH);</span>

<span class="nc" id="L170">		t.start();</span>

<span class="nc" id="L172">		this.setContentPane(container);</span>

<span class="nc" id="L174">		this.setVisible(true);</span>

<span class="nc" id="L176">	}</span>

	private void redirection() {

<span class="nc" id="L180">		this.dispose();</span>

<span class="nc" id="L182">		new DeplacementVehicules();</span>

<span class="nc" id="L184">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>